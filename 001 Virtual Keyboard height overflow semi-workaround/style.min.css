:root{--height1: 100dvh;--test: env(available-screen-height, var(--height1))}html{color-scheme:dark;border:2px solid #ff0}html,body{margin:0;padding:0}body{border:2px solid lime}body.has_popup{background:#200;top:0;overflow:hidden;position:relative;overscroll-behavior:contain}*{box-sizing:border-box}popup{position:fixed;top:0;right:0;height:var(--test);width:100%;background:rgba(0,153,153,.6);border:4px solid red;display:none;overflow:auto}popup.show{display:block}popup header{position:sticky;top:0;display:block;background:orange}#testheight{display:inline-block;width:20px;background:orange;border:2px solid purple;position:absolute;top:0;opacity:.4}
