:root {
	--height1: 100dvh;
	--test: env(available-screen-height, var(--height1));
}

html {
	color-scheme: dark;
	border: 2px solid yellow;
}

html, body {
	margin: 0;
	padding: 0;
}

body {
	border: 2px solid lime;
	&.has_popup {
		background: #220000;
		//height: var(--test);
		top: 0;
		overflow: hidden;
		position: relative;
		overscroll-behavior: contain;
	}
}

* {
	box-sizing: border-box;
}

popup {
	position: fixed;
	top: 0;
	right: 0;
	height: var(--test);
	//height: 200px;
	//min-height: 100%;
	width: 100%;
	background: #00999999;
	border: 4px solid red;
	display: none;
	overflow: auto;

	&.show {
		display: block;
	}

	header {
		position: sticky;
		top: 0;
		display: block;
		background: orange;
	}
}

#testheight {
//	height: 90dvi;
	display: inline-block;
	width: 20px;
	background: orange;
	border: 2px solid purple;
	position: absolute;
	top: 0;
	opacity: 0.4;
}
